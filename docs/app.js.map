{"version":3,"sources":["app/components/Button.js","app/components/Calendar.js","app/components/Input.js","app/components/Schedule.js","app/initialize.js","app/model.js","app/pages/Home/component.js","app/pages/Landing/component.js"],"names":["Button","view","attrs","classList","action","label","onclick","months","Calendar","mdl","Input","type","id","value","class","for","onchange","Schedule","Main","children","Layout","routes","render","Landing","onmatch","a","b","c","User","name","m","route","set","console","log","Home","key","document","addEventListener","root","body","Model","form","login","email","password","authUserTask","data","Task","of","onResult","status","map","usr","authUser","fork","RegisterForm","e","target","LoginForm"],"mappings":"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","file":"docs/app.js","sourcesContent":["import m from \"mithril\"\n\nconst Button = () => {\n  return {\n    view: ({ attrs: { classList, action, label } }) =>\n      m(`button.btn.${classList}`, { onclick: action }, label)\n  }\n}\n\nexport default Button\n","import m from \"mithril\"\n\nconst months = [\n  \"January\",\n  \"Febuary\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n]\n\nconst Calendar = () => {\n  return {\n    view: ({ attrs: { mdl } }) => m(\".calendar\", \"CALENDAR\")\n  }\n}\n\nexport default Calendar\n","import m from \"mithril\"\n\nconst Input = ({ attrs: { type, label, action, id, classList } }) => {\n  return {\n    view: ({ attrs: { value } }) => [\n      m(\"label.label\", { class: classList, for: id }, label),\n      m(\"input.input\", { class: classList, id, type, value, onchange: action })\n    ]\n  }\n}\n\nexport default Input\n","import m from \"mithril\"\n\nconst Schedule = () => {\n  return {\n    view: ({ attrs: { mdl } }) => m(\".schedule\", \"Schedule\")\n  }\n}\n\nexport default Schedule\n","import m from \"mithril\"\nimport Model from \"./model.js\"\nimport Landing from \"./pages/Landing/component\"\nimport Home from \"./pages/Home/component\"\n\nconst Main = () => {\n  return { view: ({ children }) => m(\"section.main\", children) }\n}\n\nconst Layout = () => {\n  return {\n    view: ({ children, attrs: { mdl } }) =>\n      m(\".app\", [m(Main, { mdl }, children)])\n  }\n}\n\nconst routes = (mdl) => {\n  return {\n    \"/landing\": {\n      render: () => m(Layout, { mdl }, m(Landing, { mdl }))\n    },\n    \"/home/:name\": {\n      onmatch: (a, b, c) => {\n        !mdl.User().name && m.route.set(\"/landing\")\n        return console.log(a, b, c)\n      },\n      render: () => m(Layout, { mdl }, m(Home, { mdl, key: name }))\n    }\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const root = document.body\n  m.route(root, \"/landing\", routes(Model))\n})\n","import Stream from \"mithril-stream\"\n\nconst User = Stream({})\n\nconst Model = { User }\n\nexport default Model\n","import m from \"mithril\"\nimport Calendar from \"../../components/Calendar.js\"\nimport Schedule from \"../../components/Schedule.js\"\n\nconst Home = ({ attrs: { mdl } }) => {\n  console.log(mdl.User())\n  return {\n    view: ({ attrs: { mdl } }) =>\n      m(\".home\", [m(\"h1\", \"HOME\"), m(Calendar, { mdl }), m(Schedule, { mdl })])\n  }\n}\n\nexport default Home\n","import m from \"mithril\"\nimport Stream from \"mithril-stream\"\nimport Input from \"../../components/Input.js\"\nimport Button from \"../../components/Button.js\"\n\nimport Task from \"data.task\"\n\nconst form = {\n  login: Stream(false),\n  email: Stream(\"\"),\n  password: Stream(\"\"),\n  name: Stream(\"\")\n}\n\nconst authUserTask = (data) => Task.of(data.name())\n\nconst onResult = (status) => (mdl) => (data) => {\n  mdl.User.map((usr) => (usr.name = data))\n  console.log(status, data, m.route.set(\"home\", { name: mdl.User().name }))\n  m.route.set(\"/home/:name\", { name: mdl.User().name })\n}\n\nconst authUser = (mdl) => (data) =>\n  authUserTask(data).fork(onResult(\"error\")(mdl), onResult(\"success\")(mdl))\n\nconst RegisterForm = ({ attrs: { mdl } }) => {\n  return {\n    view: ({ attrs: { data } }) =>\n      m(\"form.form\", [\n        m(\"h1\", \"REGISTER\"),\n        m(Input, {\n          label: \"Email\",\n          classList: \"\",\n          id: \"login-email\",\n          type: \"email\",\n          action: (e) => data.email(e.target.value),\n          value: data.email()\n        }),\n        m(Input, {\n          label: \"Password\",\n          classList: \"\",\n          id: \"login-password\",\n          type: \"password\",\n          action: (e) => data.password(e.target.value),\n          value: data.password()\n        }),\n        m(Input, {\n          label: \"name\",\n          classList: \"\",\n          id: \"login-name\",\n          type: \"name\",\n          action: (e) => data.name(e.target.value),\n          value: data.name()\n        }),\n        m(Button, {\n          classList: \"\",\n          action: () => {\n            authUser(mdl)(form)\n          },\n          label: \"SUBMIT\"\n        })\n      ])\n  }\n}\n\nconst LoginForm = ({ attrs: { mdl } }) => {\n  return {\n    view: ({ attrs: { data } }) =>\n      m(\"form.form\", [\n        m(\"h1\", \"LOGIN\"),\n        m(Input, {\n          label: \"Email\",\n          classList: \"\",\n          id: \"login-email\",\n          type: \"email\",\n          action: (e) => data.email(e.target.value),\n          value: data.email()\n        }),\n        m(Input, {\n          label: \"Password\",\n          classList: \"\",\n          id: \"login-password\",\n          type: \"password\",\n          action: (e) => data.password(e.target.value),\n          value: data.password()\n        }),\n        m(Button, {\n          classList: \"\",\n          action: () => {\n            authUser(mdl)(form)\n          },\n          label: \"SUBMIT\"\n        })\n      ])\n  }\n}\n\nconst Landing = () => {\n  return {\n    view: ({ attrs: { mdl } }) =>\n      m(\".landing\", [\n        form.login()\n          ? m(LoginForm, { mdl, data: form })\n          : m(RegisterForm, { mdl, data: form }),\n        m(Input, {\n          label: \"Login\",\n          classList: \"\",\n          id: \"login-login\",\n          type: \"checkbox\",\n          action: (e) => {\n            form.login(!form.login())\n            console.log(\"register\", form.login())\n          },\n          value: form.login()\n        })\n      ])\n  }\n}\n\nexport default Landing\n"]}