{"version":3,"sources":["app/App.js","app/Layout.js","app/Models.js","app/Routes.js","app/components/Calendar.js","app/components/Elements.js","app/components/Schedule.js","app/initialize.js","app/pages/Details/component.js","app/pages/Home/HomeToolBar.js","app/pages/Home/component.js","app/pages/Search/SearchInput.js","app/pages/Search/SearchResults.js","app/pages/Search/component.js","app/pages/fns.js","app/secrets.js","app/utils/animations.js","app/utils/helpers.js","app/utils/http.js","app/utils/index.js"],"names":["toRoutes","mdl","acc","route","onmatch","args","path","fullroute","group","includes","state","isAuth","set","m","get","anchor","split","isAnchor","Boolean","render","component","App","Routes","reduce","NavBar","attrs","isActive","view","filter","map","idx","key","class","href","name","showSearchBar","SearchInput","showHomeBar","HomeToolBar","Header","Main","children","Layout","log","v","console","userHasAlready","result","id","user","shows","page","query","isLoading","loadingProgress","max","value","item","selected","showMenu","currentList","data","errors","search","lists","Model","isNav","scrollToAnchor","Home","Search","Details","months","daysOfWeek","calendarHeader","d","calendarBody","Calendar","month","State","today","getMonth","year","getFullYear","day","getDay","daysInMonth","large","onclick","e","child","ListSelector","list","action","active","Button","classList","label","Input","type","placeholder","for","onchange","CheckBox","checked","DropDown","tabindex","MenuItem","Menu","Schedule","document","addEventListener","root","body","getId","getShowDetails","http","getTask","detailsUrl","oninit","fork","JSON","stringify","FilterLists","selectList","NoShows","ShowSelectedShows","filterShowsByList","deleteShow","show","deleteTask","backendlessUrl","objectId","chain","alert","isHovered","onmouseover","onmouseout","src","imagesUrl","poster_path","onbeforeremove","searchShows","searchUrl","formatSearchData","err","error","oninput","target","saveDto","updateUserShows","postTask","_","results","ShowListSelection","status","Result","SearchResults","toSearchVm","first_air_date","overview","updateResults","mergeWithCurrentList","r","getShows","apiKey","tmdbAuth","Authorization","baseUrl","IsLoading","animateComponentEntrance","dom","style","opacity","setTimeout","toggle","animateSidebarEntrance","animateChildrenEntrance","animateChildrenLimitsEntrance","animate","dir","slideModalOut","Promise","remove","add","animateChildrenLimitsExit","reverse","display","makeRoute","isEmpty","length","infiniteScroll","setpoint","scrollPos","scrollTop","addTerms","terms","values","byTerms","RegExp","_search","_sort","p","toLower","toString","_direction","identity","_paginate","offset","limit","filterTask","prop","direction","Task","of","debounce","wait","now","fn","timeout","undefined","context","arguments","later","apply","callNow","clearTimeout","getRoute","int","is","el","targetEl","getElementById","window","pageYOffset","documentElement","getBoundingClientRect","top","scroll","left","behavior","jsonCopy","parse","onProgress","lengthComputable","total","loaded","redraw","onLoad","onLoadStart","onLoadEnd","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","_http","request","headers","url","tmdbBearerToken","_task","rej","res","then","method","putTask","baseSearchUrl","baseDetailsUrl","baseImagesUrl","backEndlessBaseUrl","img"],"mappings":"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","file":"docs/app.js","sourcesContent":["const toRoutes = (mdl) => (acc, route) => {\r\n  acc[route.route] = {\r\n    onmatch: (args, path, fullroute) => {\r\n      if (route.group.includes(\"authenticated\") && !mdl.state.isAuth()) {\r\n        mdl.route.set(m.route.get())\r\n      }\r\n      mdl.state.route = route\r\n      mdl.state.anchor = path.split(\"#\")[1]\r\n      let isAnchor = Boolean(mdl.state.anchor)\r\n      route.onmatch(mdl, args, path, fullroute, isAnchor)\r\n    },\r\n    render: () => route.component(mdl)\r\n  }\r\n  return acc\r\n}\r\n\r\nconst App = (mdl) => mdl.Routes.reduce(toRoutes(mdl), {})\r\n\r\nexport default App\r\n","import m from \"mithril\"\r\nimport { propEq } from \"ramda\"\r\nimport SearchInput from \"./pages/Search/SearchInput.js\"\r\nimport HomeToolBar from \"./pages/Home/HomeToolBar.js\"\r\n\r\nconst NavBar = ({ attrs: { mdl } }) => {\r\n  const isActive = (route) => route.route == m.route.get()\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) => {\r\n      return m(\r\n        \"nav\",\r\n        m(\r\n          \"ul.tab tab-block\",\r\n          mdl.Routes.filter(propEq(\"isNav\", true)).map((route, idx) =>\r\n            m(\r\n              \"li.tab-item\",\r\n              { key: idx, class: isActive(route) && \"active\" },\r\n              m(\r\n                \"li\",\r\n                { class: \"tab-item\" },\r\n                m(\"a\", { href: `#!${route.route}` }, route.name)\r\n              )\r\n            )\r\n          )\r\n        )\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst showSearchBar = (mdl) =>\r\n  m.route.get() === \"/search\" && m(SearchInput, { mdl })\r\n\r\nconst showHomeBar = (mdl) =>\r\n  m.route.get() === \"/home\" && m(HomeToolBar, { mdl })\r\n\r\nconst Header = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\".header\", [\r\n        m(\"h1\", mdl.state.route.name),\r\n        m(NavBar, { mdl }),\r\n        showHomeBar(mdl),\r\n        showSearchBar(mdl)\r\n      ])\r\n  }\r\n}\r\n\r\nconst Main = () => {\r\n  return { view: ({ children }) => m(\"section.main\", children) }\r\n}\r\n\r\nconst Layout = () => {\r\n  return {\r\n    view: ({ children, attrs: { mdl } }) =>\r\n      m(\".app\", [m(Header, { mdl }), m(Main, { mdl }, children)])\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import Stream from \"mithril-stream\"\r\nimport Routes from \"./Routes.js\"\r\nimport { any, propEq } from \"ramda\"\r\n\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\nconst userHasAlready = (mdl) => (result) =>\r\n  any(propEq(\"id\", result.id), mdl.user.shows())\r\n\r\nconst state = {\r\n  page: Stream(1),\r\n  query: Stream(\"\"),\r\n  isLoading: Stream(false),\r\n  loadingProgress: {\r\n    max: Stream(0),\r\n    value: Stream(0)\r\n  },\r\n  item: {\r\n    selected: Stream(false),\r\n    showMenu: Stream(false)\r\n  },\r\n  currentList: Stream(\"Watching\")\r\n}\r\n\r\nconst data = {\r\n  shows: Stream([])\r\n}\r\n\r\nconst errors = {\r\n  search: Stream([]),\r\n  user: Stream([])\r\n}\r\n\r\nconst user = {\r\n  shows: Stream([]),\r\n  lists: Stream([\"Watching\", \"Wishlist\"])\r\n}\r\n\r\nconst Model = {\r\n  log,\r\n  Routes,\r\n  state,\r\n  user,\r\n  data,\r\n  errors,\r\n  userHasAlready\r\n}\r\n\r\nexport default Model\r\n","import m from \"mithril\"\r\nimport Layout from \"./Layout.js\"\r\nimport Home from \"./pages/Home/component.js\"\r\nimport Search from \"./pages/Search/component.js\"\r\nimport Details from \"./pages/Details/component.js\"\r\nimport { flatten } from \"ramda\"\r\n\r\nconst Main = [\r\n  {\r\n    id: \"home\",\r\n    name: \"Home\",\r\n    // icon: Icons.home,\r\n    route: \"/home\",\r\n    isNav: true,\r\n    group: [],\r\n    children: [],\r\n    onmatch: (mdl, args, path, fullroute, isAnchor) => {\r\n      isAnchor && scrollToAnchor(mdl.state.anchor)\r\n    },\r\n    component: (mdl) => m(Layout, { mdl }, m(Home, { mdl }))\r\n  },\r\n  {\r\n    id: \"search\",\r\n    name: \"Search\",\r\n    // icon: Icons.search,\r\n    route: \"/search\",\r\n    isNav: true,\r\n    group: [],\r\n    children: [],\r\n    onmatch: (mdl, args, path, fullroute, isAnchor) => {\r\n      isAnchor && scrollToAnchor(mdl.state.anchor)\r\n    },\r\n    component: (mdl) => m(Layout, { mdl }, m(Search, { mdl }))\r\n  },\r\n  {\r\n    id: \"details\",\r\n    name: \"Details\",\r\n    // icon: Icons.search,\r\n    route: \"/details/:id\",\r\n    isNav: false,\r\n    group: [],\r\n    children: [],\r\n    onmatch: (mdl, args, path, fullroute, isAnchor) => {\r\n      console.log(\"DETAILS PAGE\", mdl, args, path, fullroute, isAnchor)\r\n      isAnchor && scrollToAnchor(mdl.state.anchor)\r\n    },\r\n    component: (mdl) => m(Layout, { mdl }, m(Details, { mdl }))\r\n  }\r\n]\r\n\r\nconst Routes = flatten([Main])\r\nexport default Routes\r\n","import m from \"mithril\"\r\nimport { Button } from \"./Elements\"\r\nimport Stream from \"mithril-stream\"\r\nimport { getDaysInMonth } from \"date-fns\"\r\n\r\nconst months = [\r\n  \"January\",\r\n  \"Febuary\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\"\r\n]\r\n\r\nconst daysOfWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\r\n\r\nconst calendarHeader = () => {\r\n  return {\r\n    view: () =>\r\n      m(\"div.calendar-header\", daysOfWeek.map((d) => m(\"div.calendar-date\", d)))\r\n  }\r\n}\r\n\r\nconst calendarBody = () => {\r\n  return {\r\n    view: () =>\r\n      m(\"div.calendar-body\", [\r\n        m(\"div.calendar-date.prev-month\", m(\"button.date-item\", \"26\")),\r\n        m(\"div.calendar-date.prev-month\", m(\"button.date-item\", \"27\")),\r\n        m(\"div.calendar-date.prev-month\", m(\"button.date-item\", \"28\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"1\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"2\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"3\")),\r\n        m(\r\n          \".calendar-date.tooltip[data-tooltip='Today']\",\r\n          m(\"button.date-item.date-today\", \"4\")\r\n        ),\r\n        m(\r\n          \".calendar-date.tooltip[data-tooltip='Not available']\",\r\n          m(\"button.date-item[disabled]\", \"5\")\r\n        ),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"6\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"7\")),\r\n        m(\r\n          \".calendar-date.tooltip[data-tooltip='You have appointments']\",\r\n          m(\"button.date-item.badge\", \"8\")\r\n        ),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"9\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"10\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"11\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"12\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"13\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"14\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"15\")),\r\n        m(\r\n          \"div.calendar-date.calendar-range.range-start\",\r\n          m(\"button.date-item\", \"16\")\r\n        ),\r\n        m(\"div.calendar-date.calendar-range\", m(\"button.date-item\", \"17\")),\r\n        m(\"div.calendar-date.calendar-range\", m(\"button.date-item\", \"18\")),\r\n        m(\"div.calendar-date.calendar-range\", m(\"button.date-item\", \"19\")),\r\n        m(\r\n          \"div.calendar-date.calendar-range.range-end\",\r\n          m(\"button.date-item\", \"20\")\r\n        ),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"21\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"22\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"23\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"24\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"25\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"26\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"27\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"28\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"29\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"30\")),\r\n        m(\"div.calendar-date\", m(\"button.date-item\", \"31\")),\r\n        m(\"div.calendar-date.next-month\", m(\"button.date-item\", \"1\"))\r\n      ])\r\n  }\r\n}\r\n\r\nconst Calendar = ({ attrs: { mdl } }) => {\r\n  let month = mdl.State.today.getMonth()\r\n  let year = mdl.State.today.getFullYear()\r\n  let day = mdl.State.today.getDay()\r\n\r\n  const state = {\r\n    months,\r\n    daysOfWeek,\r\n    day,\r\n    month,\r\n    year,\r\n    daysInMonth: getDaysInMonth(month)\r\n  }\r\n\r\n  console.log(\"month\", state)\r\n\r\n  return {\r\n    view: ({ attrs: { mdl, large } }) =>\r\n      m(\"div.calendar\", { class: large && \"calendar-lg\" }, [\r\n        m(\"div.calendar-nav.navbar\", [\r\n          m(\r\n            \"button.btn.btn-action.btn-link.btn-lg\",\r\n            {\r\n              onclick: (e) => state.month--\r\n            },\r\n            m(\"i.icon.icon-arrow-left\")\r\n          ),\r\n          m(\"div.navbar-primary\", [\r\n            `${state.months[state.month]} ${state.year}`\r\n          ]),\r\n          m(\r\n            \"button.btn.btn-action.btn-link.btn-lg\",\r\n            { onclick: state.month++ },\r\n            m(\"i.icon.icon-arrow-right\")\r\n          )\r\n        ]),\r\n        m(\"div.calendar-container\", [\r\n          m(calendarHeader, { mdl }),\r\n          m(calendarBody, { mdl })\r\n        ])\r\n      ])\r\n  }\r\n}\r\n\r\nexport default Calendar\r\n","import m from \"mithril\"\r\n\r\nexport const NavBar = () => {\r\n  return {\r\n    view: ({ children, attrs: { mdl } }) =>\r\n      m(\r\n        \"header\",\r\n        { class: \"navbar\" },\r\n        children.map((child) =>\r\n          m(\"section\", { class: \"navbar-section\" }, child)\r\n        )\r\n      )\r\n  }\r\n}\r\n\r\nexport const ListSelector = () => {\r\n  return {\r\n    view: ({ attrs: { list, action, active } }) => {\r\n      return m(\r\n        \"li.menu-item\",\r\n        m(\r\n          \"a.btn\",\r\n          {\r\n            class: active && \"active\",\r\n            onclick: action\r\n          },\r\n          list\r\n        )\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport const Button = () => {\r\n  return {\r\n    view: ({ attrs: { classList, action, label } }) =>\r\n      m(`button.btn.${classList}`, { onclick: action }, label)\r\n  }\r\n}\r\n\r\nexport const Input = ({ attrs: { type, label, action, id, placeholder } }) => {\r\n  return {\r\n    view: ({ attrs: { value } }) =>\r\n      m(\".form-group\", [\r\n        m(\"label.form-label\", { for: id }, label),\r\n        m(\"input.form-input\", {\r\n          type,\r\n          id,\r\n          placeholder,\r\n          value,\r\n          onchange: action\r\n        })\r\n      ])\r\n  }\r\n}\r\n\r\nexport const CheckBox = ({ attrs: { label, action, id, type } }) => {\r\n  return {\r\n    view: ({ attrs: { value } }) =>\r\n      m(\".form-group\", [\r\n        m(\r\n          `label.form-${type}`,\r\n          { for: id, onclick: action },\r\n          m(\"input\", {\r\n            type: \"checkbox\",\r\n            checked: value\r\n          }),\r\n          m(\"i.form-icon\", {\r\n            id\r\n          }),\r\n          label\r\n        )\r\n      ])\r\n  }\r\n}\r\n\r\nexport const DropDown = ({ attrs: { label, classList } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        \".dropdown\",\r\n        { class: classList },\r\n        m(\r\n          \"a.btn btn-link dropdown-toggle\",\r\n          { href: \"#\", tabindex: \"0\" },\r\n          label,\r\n          m(\"i.icon icon-caret\")\r\n        ),\r\n        children\r\n      )\r\n  }\r\n}\r\n\r\nexport const MenuItem = () => {\r\n  return {\r\n    view: ({ children }) => m(\"li.menu-item\", children)\r\n  }\r\n}\r\n\r\nexport const Menu = () => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\"ul.menu\", children.map((child) => m(MenuItem, child)))\r\n  }\r\n}\r\n","import m from \"mithril\"\r\n\r\nconst Schedule = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) => m(\".schedule\", \"Schedule\")\r\n  }\r\n}\r\n\r\nexport default Schedule\r\n","import m from \"mithril\"\r\nimport Model from \"./Models.js\"\r\nimport App from \"./App.js\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const root = document.body\r\n  m.route(root, \"/home\", App(Model))\r\n})\r\n","import m from \"mithril\"\r\nimport http from \"../../utils/http.js\"\r\n\r\nlet getId = () => m.route.get().split(\"/\")[2]\r\n\r\nconst getShowDetails = (mdl, http) => http.getTask(http.detailsUrl(getId()))\r\n\r\nconst Details = () => {\r\n  let data = {}\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) =>\r\n      getShowDetails(mdl, http).fork(mdl.log(\"e\"), (d) => (data = d)),\r\n    view: () =>\r\n      m(\".contains\", [\r\n        m(\"h1\", \"DETAILS PAGE\"),\r\n        m(\"code\", m(\"pre\", JSON.stringify(data, null, 4)))\r\n      ])\r\n  }\r\n}\r\n\r\nexport default Details\r\n","import m from \"mithril\"\r\nimport { ListSelector } from \"../../components/Elements.js\"\r\n\r\nconst FilterLists = () => {\r\n  const selectList = (mdl, list) => mdl.state.currentList(list)\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\".dropdown\", [\r\n        m(\"a.btn btn-link dropdown-toggle\", { tabindex: \"0\" }, [\r\n          mdl.state.currentList(),\r\n          m(\"i.icon icon-caret\")\r\n        ]),\r\n        m(\r\n          \"ul.menu\",\r\n          mdl.user.lists().map((list, idx) =>\r\n            m(ListSelector, {\r\n              list,\r\n              action: () => selectList(mdl, list),\r\n              key: idx,\r\n              mdl\r\n            })\r\n          )\r\n        )\r\n      ])\r\n  }\r\n}\r\n\r\nconst HomeToolBar = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) => m(\"nav.navbar\", m(FilterLists, { mdl }))\r\n  }\r\n}\r\n\r\nexport default HomeToolBar\r\n","import m from \"mithril\"\r\nimport http from \"../../utils/http.js\"\r\nimport { getShows } from \"../fns.js\"\r\nimport { isEmpty, filter, propEq } from \"ramda\"\r\n\r\nconst NoShows = m(\".container.empty\", [\r\n  m(\"p.empty-title h5\", \"You have no shows yet!\"),\r\n  m(\"p.empty-subtitle\", \"Click search to find your shows.\"),\r\n])\r\n\r\nconst ShowSelectedShows = () => {\r\n  const filterShowsByList = mdl =>\r\n    filter(propEq(\"status\", mdl.state.currentList()), mdl.user.shows())\r\n\r\n  const deleteShow = (show, mdl) => {\r\n    http\r\n      .deleteTask(http.backendlessUrl(`shows/${show.objectId}`))\r\n      .chain(_ => getShows(mdl, http))\r\n      .fork(\r\n        e => mdl.log(\"e\")(e),\r\n        d => {\r\n          mdl.user.shows(d)\r\n          alert(\"deleted\")\r\n        }\r\n      )\r\n  }\r\n\r\n  let isHovered = null\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      filterShowsByList(mdl).map((show, idx) =>\r\n        m(\r\n          \".tileCard\",\r\n          {\r\n            key: idx,\r\n            onmouseover: () => (isHovered = idx),\r\n            onmouseout: () => (isHovered = null),\r\n          },\r\n          [\r\n            m(\"img.img-responsive.img-fit-cover\", {\r\n              onclick: () => m.route.set(`/details/${show.id}`),\r\n              src: http.imagesUrl(show.poster_path),\r\n            }),\r\n            isHovered == idx &&\r\n              m(\r\n                \"b.btn btn-action btn-error btn-s s-circle deleteIcon\",\r\n                {\r\n                  onclick: () => {\r\n                    alert(\"deleting\")\r\n                    deleteShow(show, mdl)\r\n                  },\r\n                },\r\n                m(\"i.icon icon-cross\")\r\n              ),\r\n          ]\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nconst Home = () => {\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) =>\r\n      getShows(mdl, http).fork(mdl.errors, d => mdl.user.shows(d)),\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"section.tiles\",\r\n        isEmpty(mdl.user.shows()) ? NoShows : m(ShowSelectedShows, { mdl })\r\n      ),\r\n    onbeforeremove: ({ attrs: { mdl } }) => mdl.state.currentList(\"Watching\"),\r\n  }\r\n}\r\nexport default Home\r\n","import m from \"mithril\"\r\nimport http from \"../../utils/http.js\"\r\nimport { formatSearchData, mergeWithCurrentList } from \"../fns.js\"\r\n\r\nconst SearchInput = () => {\r\n  const searchShows = (mdl) => {\r\n    return http\r\n      .getTask(http.searchUrl(mdl.state.page())(mdl.state.query()))\r\n      .map(formatSearchData)\r\n      .map(mergeWithCurrentList(mdl.user.shows()))\r\n      .fork(\r\n        (err) => (mdl.error = err),\r\n        (data) => {\r\n          mdl.data.shows(data)\r\n        }\r\n      )\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \".searchInput\",\r\n        m(\".form-group\", [\r\n          m(\"input.form-input\", {\r\n            type: \"text\",\r\n            id: \"search\",\r\n            placeholder: \"search\",\r\n            value: mdl.state.query(),\r\n            oninput: (e) => mdl.state.query(e.target.value),\r\n            onchange: () => searchShows(mdl)\r\n          })\r\n        ])\r\n      )\r\n  }\r\n}\r\n\r\nexport default SearchInput\r\n","import m from \"mithril\"\r\nimport http from \"../../utils/http.js\"\r\nimport { over, lensProp } from \"ramda\"\r\nimport { getShows, mergeWithCurrentList } from \"../fns.js\"\r\nimport { ListSelector } from \"../../components/Elements.js\"\r\n\r\nconst saveDto = (d, value) => ({\r\n  body: over(lensProp(\"status\"), () => value, d)\r\n})\r\n\r\nconst updateUserShows = (mdl) => (result, list) =>\r\n  http\r\n    .postTask(http.backendlessUrl(\"shows\"), saveDto(result, list))\r\n    .chain((_) => getShows(mdl, http))\r\n    .fork(mdl.errors, (d) => {\r\n      mdl.user.shows(d)\r\n      mdl.data.shows(\r\n        mergeWithCurrentList(mdl.user.shows())({ results: mdl.data.shows() })\r\n      )\r\n    })\r\n\r\nconst ShowListSelection = () => {\r\n  return {\r\n    view: ({ attrs: { mdl, result, active } }) => {\r\n      return m(\r\n        \"ul.menu\",\r\n        mdl.user.lists().map((list, idx) => {\r\n          return m(ListSelector, {\r\n            list,\r\n            active: list == result.status,\r\n            key: idx,\r\n            mdl,\r\n            action: () => !active && updateUserShows(mdl)(result, list)\r\n          })\r\n        })\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst Result = () => {\r\n  return {\r\n    view: ({ attrs: { mdl, result } }) => {\r\n      return m(\".tileCard\", [\r\n        m(\"img.img-responsive.img-fit-cover\", {\r\n          class: mdl.userHasAlready(mdl)(result) && \"selected\",\r\n          onclick: () => mdl.state.item.showMenu(result.id),\r\n          src: http.imagesUrl(result.poster_path)\r\n        }),\r\n        mdl.state.item.showMenu() == result.id &&\r\n          m(ShowListSelection, {\r\n            mdl,\r\n            result,\r\n            active: mdl.userHasAlready(mdl)(result)\r\n          })\r\n      ])\r\n    },\r\n    onbeforeremove: () => console.log(\"bye\")\r\n  }\r\n}\r\n\r\nconst SearchResults = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"section.tiles\",\r\n        mdl.data.shows()\r\n          ? mdl.data\r\n              .shows()\r\n              .map((result, idx) => m(Result, { mdl, result, key: idx }))\r\n          : []\r\n      )\r\n  }\r\n}\r\n\r\nexport default SearchResults\r\n","import m from \"mithril\"\r\nimport SearchInput from \"./SearchInput.js\"\r\nimport SearchResults from \"./SearchResults.js\"\r\n\r\nconst Search = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) => m(\".search\", [m(SearchResults, { mdl })]),\r\n    onbeforeremove: ({ attrs: { mdl } }) => {\r\n      mdl.state.query(\"\")\r\n      mdl.data.shows([])\r\n    }\r\n  }\r\n}\r\n\r\nexport default Search\r\n","import { over, lensProp, map, compose, propEq, prop, find, set } from \"ramda\"\r\n\r\nexport const toSearchVm = ({\r\n  name,\r\n  first_air_date,\r\n  poster_path,\r\n  overview,\r\n  id,\r\n  status,\r\n  objectId\r\n}) => ({\r\n  name,\r\n  first_air_date,\r\n  poster_path,\r\n  overview,\r\n  id,\r\n  status,\r\n  objectId\r\n})\r\n\r\nexport const formatSearchData = over(lensProp(\"results\"), map(toSearchVm))\r\n\r\nconst updateResults = (result) => (show) =>\r\n  show ? set(lensProp(\"status\"), prop(\"status\", show), result) : result\r\n\r\nexport const mergeWithCurrentList = (shows) => (data) =>\r\n  data.results.map((r) =>\r\n    compose(\r\n      updateResults(r),\r\n      find(propEq(\"id\", r.id))\r\n    )(shows)\r\n  )\r\n\r\nexport const getShows = (mdl, http) =>\r\n  http.getTask(http.backendlessUrl(\"shows?pagesize=100\")).map(map(toSearchVm))\r\n","export const apiKey = \"1e4d78ab60660282c63379725fc9b111\"\nexport const tmdbAuth = {\n  Authorization:\n    \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZTRkNzhhYjYwNjYwMjgyYzYzMzc5NzI1ZmM5YjExMSIsInN1YiI6IjVkYmNjMjBjOTdhNGU2MDAxNTdjNjkxYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.TgL91o4VHyQo4cm3KLx6nVICyrn8E8pXDC1zMdlDFsU\",\n}\nexport const baseUrl = \"https://api.themoviedb.org/3\"\n","import m from 'mithril'\r\n\r\nexport const IsLoading = m('.holder', [\r\n  m('.preloader', [\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n    m('div'),\r\n  ]),\r\n])\r\n\r\nexport const animateComponentEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [...dom.children]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = (idx) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = (dir) => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  }, 200)\r\n}\r\n\r\nexport const slideModalOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(() => {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    }, 200)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [...dom.children].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n","import m from 'mithril'\r\n\r\nimport {\r\n  compose,\r\n  join,\r\n  values,\r\n  props,\r\n  assoc,\r\n  test,\r\n  prop,\r\n  filter,\r\n  sortBy,\r\n  toLower,\r\n  identity,\r\n  reverse,\r\n  slice,\r\n  split,\r\n  trim,\r\n  max,\r\n  min,\r\n  map,\r\n} from 'ramda'\r\nimport Task from 'data.task'\r\n\r\nexport const makeRoute = compose(\r\n  join('-'),\r\n  split(' '),\r\n  trim(),\r\n  toLower()\r\n)\r\nexport const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n\r\nexport const isEmpty = (data) => data.length == 0\r\n\r\nexport const infiniteScroll = (mdl) => (e) => {\r\n  let route = mdl.state.route\r\n  let length = mdl.data[route].data.length\r\n  let setpoint = 10 * length * mdl.state.scrollPos\r\n  if (e.target.scrollTop - mdl.state.scrollPos >= setpoint) {\r\n    mdl.state.scrollPos++ + e.target.scrollTop\r\n  }\r\n}\r\n\r\nexport const addTerms = (item) => {\r\n  const terms = compose(\r\n    join(' '),\r\n    values,\r\n    props(['uuid', 'id', 'name'])\r\n  )(item)\r\n\r\n  return assoc('_terms', terms, item)\r\n}\r\n\r\nconst byTerms = (query) =>\r\n  compose(\r\n    test(new RegExp(query, 'i')),\r\n    prop('name')\r\n  )\r\n\r\nexport const _search = (query) => compose(filter(byTerms(query)))\r\n\r\nexport const _sort = (p) =>\r\n  sortBy(\r\n    compose(\r\n      toLower,\r\n      toString,\r\n      prop(p)\r\n    )\r\n  )\r\n\r\nexport const _direction = (dir) => (dir == 'asc' ? identity : reverse)\r\n\r\nexport const _paginate = (offset) => (limit) => (data) =>\r\n  slice(\r\n    max(0, min(offset, data.length)),\r\n    min(offset + limit, data.length),\r\n    data\r\n  )\r\n\r\nexport const filterTask = (query) => (prop) => (direction) => (offset) => (\r\n  limit\r\n) =>\r\n  compose(\r\n    Task.of,\r\n    map(_paginate(offset)(limit)),\r\n    map(_direction(direction)),\r\n    map(_sort(prop)),\r\n    _search(query)\r\n  )\r\n\r\nexport const debounce = (wait, now) => (fn) => {\r\n  let timeout = undefined\r\n  return function() {\r\n    let context = this\r\n    let args = arguments\r\n    let later = function() {\r\n      timeout = undefined\r\n      if (!now) fn.apply(context, args)\r\n    }\r\n    let callNow = now && !timeout\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(later, wait)\r\n    console.log(fn)\r\n    if (callNow) fn.apply(context, args)\r\n  }\r\n}\r\n\r\nexport const getRoute = (int) => m.route.get().split('/')[int]\r\n\r\nexport const scrollToAnchor = (anchor) => {\r\n  let is = (el) => el !== undefined && el !== null\r\n\r\n  //if you pass an undefined anchor it will scroll to the top of the body\r\n  let targetEl = is(anchor) ? document.getElementById(anchor) : document.body\r\n  let scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n  let target = is(targetEl) ? targetEl.getBoundingClientRect().top : 0\r\n  window.scroll({\r\n    top: target + scrollTop - 10,\r\n    left: 0,\r\n    behavior: 'smooth',\r\n  })\r\n}\r\n\r\nexport const jsonCopy = (src) => JSON.parse(JSON.stringify(src))\r\n","import { baseUrl, apiKey, tmdbAuth } from \"../secrets.js\"\r\nimport Task from \"data.task\"\r\nimport m from \"mithril\"\r\nimport Model from \"../Models.js\"\r\n\r\nfunction onProgress(e) {\r\n  if (e.lengthComputable) {\r\n    Model.state.loadingProgress.max(e.total)\r\n    Model.state.loadingProgress.value(e.loaded)\r\n    m.redraw()\r\n  }\r\n}\r\n\r\nfunction onLoad() {\r\n  return false\r\n}\r\n\r\nfunction onLoadStart() {\r\n  Model.state.isLoading(true)\r\n  return false\r\n}\r\nfunction onLoadEnd() {\r\n  Model.state.isLoading(false)\r\n  Model.state.loadingProgress.max(0)\r\n  Model.state.loadingProgress.value(0)\r\n  return false\r\n}\r\n\r\nconst xhrProgress = {\r\n  config: (xhr) => {\r\n    // console.log(xhr)\r\n    xhr.onprogress = onProgress\r\n    xhr.onload = onLoad\r\n    xhr.onloadstart = onLoadStart\r\n    xhr.onloadend = onLoadEnd\r\n  }\r\n}\r\n\r\nconst _http = (mdl) => {\r\n  mdl.state.isLoading(!mdl.state.isLoading)\r\n  return m.request\r\n}\r\n\r\nconst headers = (url) => {\r\n  let tmdbBearerToken = url.includes(\"themoviedb\") && tmdbAuth\r\n  return {\r\n    headers: {\r\n      ...tmdbBearerToken,\r\n      \"Content-Type\": \"application/json;charset=utf-8\"\r\n    }\r\n  }\r\n}\r\n\r\nconst _task = (url) => (args) =>\r\n  new Task((rej, res) =>\r\n    _http(Model)(url, { ...args, ...headers(url), ...xhrProgress }).then(\r\n      res,\r\n      rej\r\n    )\r\n  )\r\n\r\nconst getTask = (url, args = {}) =>\r\n  _task(url)({\r\n    ...args,\r\n    method: \"GET\"\r\n  })\r\nconst postTask = (url, args = {}) =>\r\n  _task(url)({\r\n    ...args,\r\n    method: \"POST\"\r\n  })\r\nconst putTask = (url, args = {}) =>\r\n  _task(url)({\r\n    ...args,\r\n    method: \"PUT\"\r\n  })\r\nconst deleteTask = (url, args = {}) =>\r\n  _task(url)({\r\n    ...args,\r\n    method: \"DELETE\"\r\n  })\r\n\r\nconst baseSearchUrl = (baseUrl) => (apiKey) => (page) => (query) =>\r\n  `${baseUrl}/search/multi?api_key=${apiKey}&language=en-US&query=${query}&page=${page}&include_adult=false`\r\n\r\nconst baseDetailsUrl = (baseUrl) => (apiKey) => (id) =>\r\n  `${baseUrl}/tv/${id}?api_key=${apiKey}&language=en-US&append_to_response=recommendations,similar,latest,airing_today,on_the_air`\r\nconst baseImagesUrl = (baseUrl) => (apiKey) => (id) =>\r\n  `${baseUrl}/tv/${id}/images?api_key=${apiKey}&language=en-US`\r\n\r\nconst backEndlessBaseUrl =\r\n  \"https://api.backendless.com/7F421158-889B-FD93-FF62-1ACDCD07AD00/1D9BEF3E-0CCC-D6C6-FF60-1A0B849A3E00/data/\"\r\n\r\nconst backendlessUrl = (url) => backEndlessBaseUrl + url\r\n\r\n// const shows = (shows) => `data/${shows}?pagesize=100`\r\n\r\nconst searchUrl = baseSearchUrl(baseUrl)(apiKey)\r\n\r\nconst detailsUrl = baseDetailsUrl(baseUrl)(apiKey)\r\n\r\nconst imagesUrl = (img) =>\r\n  `https://image.tmdb.org/t/p/w185_and_h278_bestv2/${img}`\r\n\r\nconst http = {\r\n  getTask,\r\n  postTask,\r\n  putTask,\r\n  deleteTask,\r\n  baseSearchUrl,\r\n  baseDetailsUrl,\r\n  baseImagesUrl,\r\n  searchUrl,\r\n  detailsUrl,\r\n  imagesUrl,\r\n  backendlessUrl\r\n}\r\n\r\nexport default http\r\n","export * from \"./animations.js\"\r\nexport * from \"./helpers.js\"\r\nexport * from \"./http.js\"\r\n"]}