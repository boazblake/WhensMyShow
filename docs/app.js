!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},r={},a={}.hasOwnProperty,o=/^\.\.?(\/|$)/,i=function(t,e){for(var n,r=[],a=(o.test(e)?t+"/"+e:e).split("/"),i=0,u=a.length;i<u;i++)n=a[i],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(t){return t.split("/").slice(0,-1).join("/")},l=function(e){return function(n){var r=i(u(e),n);return t.require(r,e)}},s=function(t,e){var r=g&&g.createHot(t),a={id:t,exports:{},hot:r};return n[t]=a,e(a.exports,l(t),a),a.exports},c=function(t){return r[t]?c(r[t]):t},d=function(t,e){return c(i(u(t),e))},f=function(t,r){null==r&&(r="/");var o=c(t);if(a.call(n,o))return n[o].exports;if(a.call(e,o))return s(o,e[o]);throw new Error("Cannot find module '"+t+"' from '"+r+"'")};f.alias=function(t,e){r[e]=t};var v=/\.[^.\/]+$/,m=/\/index(\.[^\/]+)?$/,p=function(t){if(v.test(t)){var e=t.replace(v,"");a.call(r,e)&&r[e].replace(v,"")!==e+"/index"||(r[e]=t)}if(m.test(t)){var n=t.replace(m,"");a.call(r,n)||(r[n]=t)}};f.register=f.define=function(t,r){if(t&&"object"==typeof t)for(var o in t)a.call(t,o)&&f.register(o,t[o]);else e[t]=r,delete n[t],p(t)},f.list=function(){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t};var g=t._hmr&&new t._hmr(d,f,e,n);f._cache=n,f.hmr=g&&g.wrap,f.brunch=!0,t.require=f}}(),function(){"undefined"==typeof window?this:window;require.register("components/button.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("mithril"),o=r(a),i=function(){return{view:function(t){var e=t.attrs,n=e.classList,r=e.action,a=e.label;return(0,o["default"])("button.btn."+n,{onclick:r},a)}}};t["default"]=i}),require.register("components/canvas.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("mithril"),o=r(a),i=function(){return{oncreate:function(t){var e=t.dom,n=t.attrs,r=n.ctx,a=n.mdl,o=e.getContext("2d");r&&o.putImageData(r,0,0),e.style.transform="rotate("+a.rotateCanvas()+"deg)"},view:function(t){var e=t.attrs,n=e.classList,r=e.id;return(0,o["default"])("canvas."+n,{id:r})}}};t["default"]=i}),require.register("components/navbar.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("mithril"),o=r(a),i=e("./button.js"),u=r(i),l=e("../model"),s=function(){return{view:function(t){var e=t.attrs.mdl;return(0,o["default"])("nav.navbar","/easel"==o["default"].route.get()?e.artworks.map(l.isEmpty)&&(0,o["default"])(u["default"],{mdl:e,classList:"navBtn",action:function(){e.preventUpdate(!1),e.orientation="portrait",o["default"].route.set("/print")},label:"View Gallery"}):(0,o["default"])(u["default"],{mdl:e,classList:"navBtn",action:function(){e.preventUpdate(!0),o["default"].route.set("/easel")},label:"Commision New Painting"}))}}};t["default"]=s}),require.register("components/toolbar.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("mithril"),o=r(a),i=e("./button.js"),u=r(i),l=function(){return{view:function(t){var e=t.attrs.mdl;return(0,o["default"])("aside.navbar",(0,o["default"])(u["default"],{mdl:e,classList:"toolBtn",action:function(){e.preventUpdate(!0),e.orientation="portrait",o["default"].route.set("/easel")},label:"New Painting"}),(0,o["default"])(u["default"],{mdl:e,classList:"toolBtn",action:function(){e.preventUpdate(!1),e.orientation="portrait.animated",e.rotateCanvas(e.rotateCanvas()+90>=360?0:e.rotateCanvas()+90),o["default"].route.set("/easel")},label:"Rotate Painting Clockwise"}),(0,o["default"])(u["default"],{mdl:e,classList:"toolBtn",action:function(){e.preventUpdate(!1),e.orientation.includes("portrait")?e.orientation="animated.rollAround.landscape":e.orientation="animated.rollAround.portrait"},label:e.orientation.includes("portrait")?"landscape":"portrait"}))}}},s=function(){return{view:function(t){var e=t.attrs.mdl;return"/easel"==o["default"].route.get()&&(0,o["default"])(l,{mdl:e})}}};t["default"]=s}),require.register("initialize.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=e("mithril"),o=r(a),i=e("./model.js"),u=r(i),l=e("./components/navbar"),s=r(l),c=e("./components/toolbar"),d=r(c),f=e("./pages/easel.js"),v=r(f),m=e("./pages/gallery.js"),p=r(m),g=function(){return{view:function(t){var e=t.children;return(0,o["default"])("section.main",e)}}},h=function(){return{view:function(t){var e=t.children,n=t.attrs.mdl;return(0,o["default"])(".app",[(0,o["default"])(s["default"],{mdl:n}),(0,o["default"])(g,{mdl:n},e),(0,o["default"])(d["default"],{mdl:n})])}}},y=function(t){return{"/easel":{render:function(){return(0,o["default"])(h,{mdl:t},(0,o["default"])(v["default"],{mdl:t,key:Date.now()}))}},"/gallery":{onmatch:function(){return 0==t.artworks().length?o["default"].route.set("/easel"):void t.rotateCanvas(0)},render:function(){return(0,o["default"])(h,{mdl:t},(0,o["default"])(p["default"],{mdl:t}))}}}};document.addEventListener("DOMContentLoaded",function(){var t=document.body;o["default"].route(t,"/gallery",y(u["default"]))})}),require.register("model.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return Array.isArray(t)?t:Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.animateComponentExit=t.animateComponentEntrance=t.isEmpty=t.range=t.getHue=t.getHeight=t.getWidth=t.getRotation=t.getPosition=t.rest=t.last=t.log=void 0;var i=e("mithril-stream"),u=r(i),l=((0,u["default"])(600),(0,u["default"])(600),t.log=function(t){return function(e){return console.log(t,e),e}}),s=function(t,e){return Math.floor(Math.random()*(e-t)+t)},c=(t.last=function(t){return t[t.length-1]},t.rest=function v(t){var e=o(t),v=(e[0],e.slice(1));return v},t.getPosition=function(t){return{x:s(0,t.width()),y:s(0,t.height())}},t.getRotation=function(){return s(0,360)},t.getWidth=function(t){return s(0,t.width())},t.getHeight=function(t){return s(0,t.height())},t.getHue=function(){return s(0,999)},t.range=function(t){return[].concat(a(Array(t).keys()))},t.isEmpty=function(t){return 0==t.length},function(t,e){var n={id:t.artworks().length,art:e};t.artworks.map(function(t){return t.push(n)})}),d=(t.animateComponentEntrance=function(t,e){return function(n){var r=n.dom;return r.style.opacity=0,setTimeout(function(){r.classList.add(e),r.style.opacity=1},100*t+20)}},t.animateComponentExit=function(t,e){return function(n){var r=n.dom;return console.log(r),r.style.opacity=1,new Promise(function(n){setTimeout(function(){r.classList.add(e),r.style.opacity=0},100*t+20),r.addEventListener("animationend",n)})}},["circle","square","triangle"]),f={count:(0,u["default"])(s(30,70)),preventUpdate:(0,u["default"])(!0),shapes:d,width:(0,u["default"])(600),height:(0,u["default"])(600),artworks:(0,u["default"])([]),canvas:(0,u["default"])(null),ctx:(0,u["default"])(null),dom:(0,u["default"])(null),rotateCanvas:(0,u["default"])(0),saveArt:c,log:l,orientation:"portrait"};t["default"]=f}),require.register("pages/easel.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("mithril"),o=r(a),i=e("../components/canvas.js"),u=r(i),l=e("../paint.js"),s=r(l),c=function(){return{oninit:function(t){var e=t.attrs.mdl;if(e.preventUpdate()){var n=document.createElement("canvas"),r=n.getContext("2d");r.imageSmoothingQuality="high",r.filter="brightness(0.8)",r.scale(.8,.8),(0,s["default"])({ctx:r,mdl:e});var a=r.getImageData(0,0,e.width(),e.height());e.canvas(a),e.ctx(r),e.dom(n),e.saveArt(e,a)}},view:function(t){var e=t.attrs.mdl;return(0,o["default"])(".easel",(0,o["default"])(u["default"],{id:"canvas",mdl:e,classList:e.orientation,ctx:e.canvas()}))}}};t["default"]=c}),require.register("pages/gallery.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("mithril"),o=r(a),i=e("../components/canvas"),u=r(i),l=e("../components/button"),s=r(l),c=e("../model.js"),d=function(){return{view:function(t){var e=t.attrs.mdl;return(0,o["default"])("aside.navbar.toolbar",null!==e.canvas()&&[(0,o["default"])(s["default"],{mdl:e,classList:"toolBtn",action:function(t){t.redraw=!1;var n=document.createElement("a");n.href=e.dom().toDataURL("image/png"),n.download="AI_Painter_lot#"+e.artworks().length+".jpg",n.style.display="none",document.body.appendChild(n),n.click(),n.remove()},download:""+e.canvas(),label:"Download"})])}}},f=function(t){var e=t.attrs.close;return{view:function(t){var n=t.children;t.attrs.mdl;return(0,o["default"])(".modalBackground",{onclick:function(){return e()}},(0,o["default"])(".modal",n))}}},v=function(t){var e=t.attrs.mdl;return e.canvas(null)},m=function(){return{show:!1,close:function(t){return t.show=!t.show},oninit:v,oncreate:function(t){var e=t.dom;return Array.from(e.children).map(function(t){return t.style.opacity=0})},view:function(t){var e=t.state,n=t.attrs.mdl;return[(0,o["default"])(".gallery",n.artworks().map(function(t,r){var a=t.art;return(0,o["default"])(s["default"],{oncreate:(0,c.animateComponentEntrance)(r,"fadeInDownSmall"),classList:"paintBtn.animated",action:function(t){var r=t.target,a=r.getContext("2d");a.filter="brightness(1)";var o=a.getImageData(0,0,n.width(),n.height());n.canvas(o),n.dom(r),e.close(e),window.scrollTo(0,0)},label:(0,o["default"])(u["default"],{mdl:n,ctx:a,classList:"canvas"})})})),e.show&&(0,o["default"])(f,{close:function(){v({attrs:{mdl:n}}),e.close(e)},mdl:n},[(0,o["default"])(u["default"],{mdl:n,ctx:n.canvas(),classList:"canvas"}),(0,o["default"])(d,{mdl:n})])]}}};t["default"]=m}),require.register("paint.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("./model"),a=function(t,e,n,r){return"hsla("+t+", "+e+", "+n+", "+r+")"},o=function(t,e,n,r,o,i){var u=a(i,"60%","50%",.75);t.save(),t.fillStyle=u,t.translate(e.x,e.y),t.rotate(n),t.fillRect(-r/2,-o/2,r,o),t.restore()},i=function(t,e,n,r,o,i){var u=a(i,"60%","50%",.75);t.save(),t.fillStyle=u,t.translate(e.x,e.y),t.rotate(n),t.beginPath(),t.moveTo(r,0),t.lineTo(0,-r/4),t.lineTo(0,r/4),t.closePath(),t.fill(),t.restore()},u=function(t,e){return function(n){return"triangle"==n?i(t,(0,r.getPosition)(e),(0,r.getRotation)(),(0,r.getWidth)(e),(0,r.getHeight)(e),(0,r.getHue)()):"square"==n?o(t,(0,r.getPosition)(e),(0,r.getRotation)(),(0,r.getWidth)(e),(0,r.getHeight)(e),(0,r.getHue)()):void 0}},l=function(t){return t.shapes[Math.floor(Math.random()*t.shapes.length)]},s=function(t){var e=t.ctx,n=t.mdl;return(0,r.range)(n.count()).map(function(t){return l(n)}).map(u(e,n))};t["default"]=s}),require.register("styles/FLIP.js",function(t,e,n){"use strict";function r(){function t(t){a&&(o.boundingClients=o.previous.children.reduce(function(t,e){return t[e.key]={previous:e.dom.getBoundingClientRect()},t[e.key].vnode=e,t},{}),o.current.children.reduce(function(t,e){return t[e.key]?t[e.key].current=void 0:t[e.key]={current:void 0},t},o.boundingClients),Object.values(o.boundingClients).filter(function(t){return t.previous&&!t.hasOwnProperty("current")}).filter(function(e){return t.attrs&&t.attrs.hasOwnProperty("exit")}).forEach(function(e){var n=(e.vnode.dom,t.attrs.exit);e.vnode.attrs=e.vnode.attrs||{},Object.assign(e.vnode.attrs,{},{onbeforeremove:function(t){return n.call(null,e.vnode,o)}})}))}function e(){return o.boundingClients&&o.current.children?void o.current.children.reduce(function(t,e){return t[e.key].current=e.dom.getBoundingClientRect(),t[e.key].vnode=e,t},o.boundingClients):{}}function n(){Object.values(o.boundingClients).forEach(function(t){return t.current&&t.previous?(t.deltaY=t.previous.top-t.current.top,t.deltaX=t.previous.left-t.current.left,void(t.diff=!(0===t.deltaY&&0===t.deltaX))):void(t.diff=!1)})}function r(t){Object.values(o.boundingClients).forEach(function(e,n){if(!e.vnode)return void console.error("no vnode",o.boundingClients[n],e);var r=(e.vnode.dom,t.attrs),a=r.enter,i=(r.exit,r.move);r.enterfinish;a&&e.current&&!e.previous?a.call(null,e.vnode,o):i&&e.diff&&e.current&&e.previous&&i.call(null,e.vnode,o)})}var a=!1,o={previous:{},current:{}};return{onbeforeupdate:function(t,e){o.previous={children:e.children},o.current={children:t.children}},view:function(e){return t(e),e.children},oncreate:function(i){a=!0,o.previous={children:[]},o.current={children:i.children},t(i),e(),n(),r(i)},onupdate:function(t){e(),n(),r(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),r.letterKeys=function(t){var e=Array.from(t).reduce(function(t,e){t[e]?t[e].count++:t[e]={count:0};var n=e+t[e].count;return t.asList.push({key:n,letter:e}),t},{asList:[]});return e.asList},r.delta=function(t,e){var n=t.top-e.top,r=t.left-e.left;return function(){var t={deltaY:n,deltaX:r,isDiff:!(0===n&&0===r),toTranslate3d:function(){return"translate3d("+t.deltaX+"px, "+t.deltaY+"px, 0px)"}};return t}()},t["default"]=r}),require.register("___globals___",function(t,e,n){})}(),require("___globals___");