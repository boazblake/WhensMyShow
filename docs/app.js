!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},a={},r={}.hasOwnProperty,u=/^\.\.?(\/|$)/,o=function(t,e){for(var n,a=[],r=(u.test(e)?t+"/"+e:e).split("/"),o=0,i=r.length;o<i;o++)n=r[o],".."===n?a.pop():"."!==n&&""!==n&&a.push(n);return a.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")},l=function(e){return function(n){var a=o(i(e),n);return t.require(a,e)}},d=function(t,e){var a=h&&h.createHot(t),r={id:t,exports:{},hot:a};return n[t]=r,e(r.exports,l(t),r),r.exports},s=function(t){return a[t]?s(a[t]):t},c=function(t,e){return s(o(i(t),e))},f=function(t,a){null==a&&(a="/");var u=s(t);if(r.call(n,u))return n[u].exports;if(r.call(e,u))return d(u,e[u]);throw new Error("Cannot find module '"+t+"' from '"+a+"'")};f.alias=function(t,e){a[e]=t};var m=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,v=function(t){if(m.test(t)){var e=t.replace(m,"");r.call(a,e)&&a[e].replace(m,"")!==e+"/index"||(a[e]=t)}if(p.test(t)){var n=t.replace(p,"");r.call(a,n)||(a[n]=t)}};f.register=f.define=function(t,a){if(t&&"object"==typeof t)for(var u in t)r.call(t,u)&&f.register(u,t[u]);else e[t]=a,delete n[t],v(t)},f.list=function(){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};var h=t._hmr&&new t._hmr(c,f,e,n);f._cache=n,f.hmr=h&&h.wrap,f.brunch=!0,t.require=f}}(),function(){var t;"undefined"==typeof window?this:window;require.register("App.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(t){return function(e,n){return e[n.route]={onmatch:function(e,a,r){n.group.includes("authenticated")&&!t.state.isAuth()&&t.route.set(m.route.get()),t.state.route=n,t.state.anchor=a.split("#")[1];var u=Boolean(t.state.anchor);n.onmatch(t,e,a,r,u)},render:function(){return n.component(t)}},e}},r=function(t){return t.Routes.reduce(a(t),{})};t["default"]=r}),require.register("Layout.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("ramda"),i=e("./pages/Search/SearchInput.js"),l=a(i),d=e("./pages/Home/HomeToolBar.js"),s=a(d),c=e("./components/Elements.js"),f=function(t){var e=(t.attrs.mdl,function(t){return t.route==u["default"].route.get()});return{view:function(t){var n=t.attrs.mdl;return(0,u["default"])("nav",(0,u["default"])("ul.tab tab-block",n.Routes.filter((0,o.propEq)("isNav",!0)).map(function(t,n){return(0,u["default"])("li.tab-item",{key:n,"class":e(t)&&"active"},(0,u["default"])("li",{"class":"tab-item"},(0,u["default"])("a",{href:"#!"+t.route},t.name)))})))}}},m=function(t){return"/search"===u["default"].route.get()&&(0,u["default"])(l["default"],{mdl:t})},p=function(t){return"/home"===u["default"].route.get()&&(0,u["default"])(s["default"],{mdl:t})},v=function(){return{view:function(t){var e=t.attrs.mdl;return(0,u["default"])(".header",[e.state.isLoading()&&(0,u["default"])(c.ProgressBar,{mdl:e}),(0,u["default"])(f,{mdl:e}),e.state.isLoading()&&(0,u["default"])(c.Loader),p(e),m(e)])}}},h=function(){return{view:function(t){var e=t.children;return(0,u["default"])("section.main",e)}}},g=function(){return{view:function(t){var e=t.children,n=t.attrs.mdl;return(0,u["default"])(".app",[(0,u["default"])(v,{mdl:n}),(0,u["default"])(h,{mdl:n},e)])}}};t["default"]=g}),require.register("Models.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var r=e("mithril-stream"),u=a(r),o=e("./Routes.js"),i=a(o),l=e("ramda"),d=t.log=function(t){return function(e){return console.log(t,e),e}},s=function(t){return function(e){return(0,l.any)((0,l.propEq)("id",e.id),t.user.shows())}},c={paginate:{page:(0,u["default"])(1),total_pages:(0,u["default"])(0),total_results:(0,u["default"])(0)},query:(0,u["default"])(""),isLoading:(0,u["default"])(!1),loadingProgress:{max:(0,u["default"])(0),value:(0,u["default"])(0)},item:{selected:(0,u["default"])(!1),showMenu:(0,u["default"])(!1)},currentList:(0,u["default"])("Watching")},f={shows:(0,u["default"])([])},m={search:(0,u["default"])([]),user:(0,u["default"])([])},p={shows:(0,u["default"])([]),lists:(0,u["default"])(["Watching","Wishlist"])},v={log:d,Routes:i["default"],state:c,user:p,data:f,errors:m,userHasAlready:s};t["default"]=v}),require.register("Routes.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("./Layout.js"),i=a(o),l=e("./pages/Home/component.js"),d=a(l),s=e("./pages/Search/component.js"),c=a(s),f=e("./pages/Details/component.js"),m=a(f),p=e("ramda"),v=[{id:"home",name:"Home",route:"/home",isNav:!0,group:[],children:[],onmatch:function(t,e,n,a,r){r&&scrollToAnchor(t.state.anchor)},component:function(t){return(0,u["default"])(i["default"],{mdl:t},(0,u["default"])(d["default"],{mdl:t}))}},{id:"search",name:"Search",route:"/search",isNav:!0,group:[],children:[],onmatch:function(t,e,n,a,r){r&&scrollToAnchor(t.state.anchor)},component:function(t){return(0,u["default"])(i["default"],{mdl:t},(0,u["default"])(c["default"],{mdl:t}))}},{id:"details",name:"Details",route:"/details/:id",isNav:!1,group:[],children:[],onmatch:function(t,e,n,a,r){r&&scrollToAnchor(t.state.anchor)},component:function(t){return(0,u["default"])(i["default"],{mdl:t},(0,u["default"])(m["default"],{mdl:t}))}}],h=(0,p.flatten)([v]);t["default"]=h}),require.register("components/Calendar.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=(e("./Elements"),e("mithril-stream")),i=(a(o),e("date-fns")),l=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=function(){return{view:function(){return(0,u["default"])("div.calendar-header",d.map(function(t){return(0,u["default"])("div.calendar-date",t)}))}}},c=function(){return{view:function(){return(0,u["default"])("div.calendar-body",[(0,u["default"])("div.calendar-date.prev-month",(0,u["default"])("button.date-item","26")),(0,u["default"])("div.calendar-date.prev-month",(0,u["default"])("button.date-item","27")),(0,u["default"])("div.calendar-date.prev-month",(0,u["default"])("button.date-item","28")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","1")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","2")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","3")),(0,u["default"])(".calendar-date.tooltip[data-tooltip='Today']",(0,u["default"])("button.date-item.date-today","4")),(0,u["default"])(".calendar-date.tooltip[data-tooltip='Not available']",(0,u["default"])("button.date-item[disabled]","5")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","6")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","7")),(0,u["default"])(".calendar-date.tooltip[data-tooltip='You have appointments']",(0,u["default"])("button.date-item.badge","8")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","9")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","10")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","11")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","12")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","13")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","14")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","15")),(0,u["default"])("div.calendar-date.calendar-range.range-start",(0,u["default"])("button.date-item","16")),(0,u["default"])("div.calendar-date.calendar-range",(0,u["default"])("button.date-item","17")),(0,u["default"])("div.calendar-date.calendar-range",(0,u["default"])("button.date-item","18")),(0,u["default"])("div.calendar-date.calendar-range",(0,u["default"])("button.date-item","19")),(0,u["default"])("div.calendar-date.calendar-range.range-end",(0,u["default"])("button.date-item","20")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","21")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","22")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","23")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","24")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","25")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","26")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","27")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","28")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","29")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","30")),(0,u["default"])("div.calendar-date",(0,u["default"])("button.date-item","31")),(0,u["default"])("div.calendar-date.next-month",(0,u["default"])("button.date-item","1"))])}}},f=function(t){var e=t.attrs.mdl,n=e.State.today.getMonth(),a=e.State.today.getFullYear(),r=e.State.today.getDay(),o={months:l,daysOfWeek:d,day:r,month:n,year:a,daysInMonth:(0,i.getDaysInMonth)(n)};return console.log("month",o),{view:function(t){var e=t.attrs,n=e.mdl,a=e.large;return(0,u["default"])("div.calendar",{"class":a&&"calendar-lg"},[(0,u["default"])("div.calendar-nav.navbar",[(0,u["default"])("button.btn.btn-action.btn-link.btn-lg",{onclick:function(t){return o.month--}},(0,u["default"])("i.icon.icon-arrow-left")),(0,u["default"])("div.navbar-primary",[o.months[o.month]+" "+o.year]),(0,u["default"])("button.btn.btn-action.btn-link.btn-lg",{onclick:o.month++},(0,u["default"])("i.icon.icon-arrow-right"))]),(0,u["default"])("div.calendar-container",[(0,u["default"])(s,{mdl:n}),(0,u["default"])(c,{mdl:n})])])}}};t["default"]=f}),require.register("components/Elements.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.MenuItem=t.DropDown=t.CheckBox=t.Input=t.Button=t.ListSelector=t.NavBar=t.ProgressBar=t.Paginator=t.Loader=void 0;var r=e("mithril"),u=a(r),o=e("ramda"),i=e("../pages/fns"),l=e("../utils/http.js"),d=a(l),s=(t.Loader=function(){return{view:function(){return(0,u["default"])(".loader",[(0,u["default"])("."),(0,u["default"])(".")])}}},t.Paginator=function(){var t=function(t){return(0,i.searchShows)(t,d["default"])};return{view:function(e){var n=e.attrs.mdl,a=n.state.paginate,r=a.page,i=a.total_pages,l=a.total_results;if(l()){var d=void 0,s=(0,o.range)(1,i()+1);if(s.length>6){var c=(0,o.take)(3,s),f=(0,o.takeLast)(3,s);d=(0,o.flatten)([c,(0,u["default"])("span","..."),f])}else d=s;return(0,u["default"])("ul.pagination.navbar",[(0,u["default"])("li.page-item",{"class":1==r()?"disabled":"c-hand",onclick:function(){1!==r()&&r(r()-1)&&t(n)}},(0,u["default"])("a[tabindex='-1']","Previous")),d.map(function(e){return(0,u["default"])("li.page-item.c-hand",{"class":r()==e&&"active c-auto",onclick:function(){Number(e)&&e!==r()&&(r(e),t(n))}},(0,u["default"])("a",e))}),(0,u["default"])("li.page-item",{"class":r()==i()?"disabled":"c-hand",onclick:function(){r()<i()&&r(r()+1)&&t(n)}},(0,u["default"])("a","Next"))])}}}},t.ProgressBar=function(){return{view:function(t){var e=t.attrs.mdl.state.loadingProgress,n=e.value,a=e.max;return(0,u["default"])(".progressBar",(0,u["default"])("progress.progress",{max:a(),value:n()}))}}},t.NavBar=function(){return{view:function(t){var e=t.children;t.attrs.mdl;return(0,u["default"])("header",{"class":"navbar"},e.map(function(t){return(0,u["default"])("section",{"class":"navbar-section"},t)}))}}},t.ListSelector=function(){return{view:function(t){var e=t.attrs,n=e.list,a=e.action,r=e.active;return(0,u["default"])("li.menu-item",(0,u["default"])("a.btn",{"class":r&&"active",onclick:a},n))}}},t.Button=function(){return{view:function(t){var e=t.attrs,n=e.classList,a=e.action,r=e.label;return(0,u["default"])("button.btn."+n,{onclick:a},r)}}},t.Input=function(t){var e=t.attrs,n=e.type,a=e.label,r=e.action,o=e.id,i=e.placeholder;return{view:function(t){var e=t.attrs.value;return(0,u["default"])(".form-group",[(0,u["default"])("label.form-label",{"for":o},a),(0,u["default"])("input.form-input",{type:n,id:o,placeholder:i,value:e,onchange:r})])}}},t.CheckBox=function(t){var e=t.attrs,n=e.label,a=e.action,r=e.id,o=e.type;return{view:function(t){var e=t.attrs.value;return(0,u["default"])(".form-group",[(0,u["default"])("label.form-"+o,{"for":r,onclick:a},(0,u["default"])("input",{type:"checkbox",checked:e}),(0,u["default"])("i.form-icon",{id:r}),n)])}}},t.DropDown=function(t){var e=t.attrs,n=e.label,a=e.classList;return{view:function(t){var e=t.children;return(0,u["default"])(".dropdown",{"class":a},(0,u["default"])("a.btn btn-link dropdown-toggle",{href:"#",tabindex:"0"},n,(0,u["default"])("i.icon icon-caret")),e)}}},t.MenuItem=function(){return{view:function(t){var e=t.children;return(0,u["default"])("li.menu-item",e)}}});t.Menu=function(){return{view:function(t){var e=t.children;return(0,u["default"])("ul.menu",e.map(function(t){return(0,u["default"])(s,t)}))}}}}),require.register("components/Schedule.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=function(){return{view:function(t){t.attrs.mdl;return(0,u["default"])(".schedule","Schedule")}}};t["default"]=o}),require.register("initialize.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var r=e("mithril"),u=a(r),o=e("./Models.js"),i=a(o),l=e("./App.js"),d=a(l);document.addEventListener("DOMContentLoaded",function(){var t=document.body;u["default"].route(t,"/home",(0,d["default"])(i["default"]))})}),require.register("pages/Details/component.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("../../utils/http.js"),i=a(o),l=e("ramda"),d=e("../../components/Elements"),s=function(){return u["default"].route.get().split("/")[2]},c=function(t,e){return e.getTask(e.detailsUrl(s()))},f=function(){return{view:function(t){var e=t.attrs,n=e.label,a=e.text;return(0,u["default"])(".formGroup",[(0,u["default"])("strong",n),a])}}},m=function(){return{view:function(t){var e=t.attrs.show;return(0,u["default"])(".menu",[(0,u["default"])("img.img-responsive.img-fit-cover",{src:i["default"].imagesUrl(e.poster_path)}),(0,u["default"])(f,{label:"first_air_date ",text:e.first_air_date}),(0,u["default"])(f,{label:"last_air_date ",text:e.last_air_date}),(0,u["default"])(f,{label:"Status:  ",text:e.status}),(0,u["default"])(f,{label:"Network:  ",text:(0,l.map)((0,l.prop)("name"),e.networks).join()}),e.next_episode_to_air&&(0,u["default"])(f,{label:"Next Air Date:  ",text:e.next_episode_to_air.air_date}),(0,u["default"])(f,{label:"number_of_episodes:  ",text:e.number_of_episodes}),(0,u["default"])(f,{label:"number_of_seasons:  ",text:e.number_of_seasons})])}}},p=function(){var t={};return{oninit:function(e){var n=e.attrs.mdl;return c(n,i["default"]).fork(n.log("e"),function(e){return t=e})},view:function(){return(0,u["default"])(".container",[(0,l.isEmpty)(t)?(0,u["default"])(d.Loader):(0,u["default"])(m,{show:t})])}}};t["default"]=p}),require.register("pages/Home/HomeToolBar.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("../../components/Elements.js"),i=function(){var t=function(t,e){return t.state.currentList(e)},e=!0;return{view:function(n){var a=n.attrs.mdl;return(0,u["default"])(".dropdown",[(0,u["default"])("a.btn btn-link dropdown-toggle",{onclick:function(){return e=!0},tabindex:"0"},[a.state.currentList(),(0,u["default"])("i.icon icon-caret")]),e&&(0,u["default"])("ul.menu",a.user.lists().map(function(n,r){return(0,u["default"])(o.ListSelector,{list:n,action:function(){t(a,n),e=!1},key:r,mdl:a})}))])}}},l=function(){return{view:function(t){var e=t.attrs.mdl;return(0,u["default"])("nav.navbar",(0,u["default"])(i,{mdl:e}))}}};t["default"]=l}),require.register("pages/Home/component.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("../../utils/http.js"),i=a(o),l=e("../fns.js"),d=e("ramda"),s=(0,u["default"])(".container.empty",[(0,u["default"])("p.empty-title h5","You have no shows yet!"),(0,u["default"])("p.empty-subtitle","Click search to find your shows.")]),c=function(){var t=function(t){return(0,d.filter)((0,d.propEq)("status",t.state.currentList()),t.user.shows())},e=function(t,e){i["default"].deleteTask(i["default"].backendlessUrl("shows/"+t.objectId)).chain(function(t){return(0,l.getShows)(e,i["default"])}).fork(function(t){return e.log("e")(t)},function(t){return e.user.shows(t)})};return{view:function(n){var a=n.attrs.mdl;return t(a).map(function(t,n){return(0,u["default"])(".tileCard",{key:n},[(0,u["default"])("img.img-responsive.img-fit-cover",{onclick:function(){return u["default"].route.set("/details/"+t.id)},src:i["default"].imagesUrl(t.poster_path)}),(0,u["default"])("b.btn btn-action btn-error btn-s s-circle deleteIcon ",{onclick:function(){return e(t,a)}},(0,u["default"])("i.icon icon-cross"))])})}}},f=function(){return{oninit:function(t){var e=t.attrs.mdl;return(0,l.getShows)(e,i["default"]).fork(e.errors,function(t){return e.user.shows(t)})},view:function(t){var e=t.attrs.mdl;return(0,u["default"])("section.tiles",(0,d.isEmpty)(e.user.shows())?s:(0,u["default"])(c,{mdl:e}))}}};t["default"]=f}),require.register("pages/Search/SearchInput.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("../../utils/http.js"),i=a(o),l=e("../fns.js"),d=e("../../components/Elements.js"),s=function(){return{view:function(t){var e=t.attrs.mdl;return(0,u["default"])(".searchForm",(0,u["default"])(".form-group",[(0,u["default"])("input.form-input",{type:"text",id:"search",placeholder:"search",value:e.state.query(),oninput:function(t){return e.state.query(t.target.value)},onchange:function(){return(0,l.searchShows)(e,i["default"])}}),(0,u["default"])(d.Paginator,{mdl:e})]))}}};t["default"]=s}),require.register("pages/Search/SearchResults.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("../../utils/http.js"),i=a(o),l=e("ramda"),d=e("../fns.js"),s=e("../../components/Elements.js"),c=function(t,e){return{body:(0,l.over)((0,l.lensProp)("status"),function(){return e},t)}},f=function(t){return function(e,n){return i["default"].postTask(i["default"].backendlessUrl("shows"),c(e,n)).chain(function(e){return(0,d.getShows)(t,i["default"])}).fork(t.errors,function(e){t.user.shows(e),t.data.shows((0,d.updateShowStatus)(t.user.shows())({results:t.data.shows()}).results)})}},m=function(){return{view:function(t){var e=t.attrs,n=e.mdl,a=e.result,r=e.active;return(0,u["default"])("ul.menu",n.user.lists().map(function(t,e){return(0,u["default"])(s.ListSelector,{list:t,active:t==a.status,key:e,mdl:n,action:function(){return!r&&f(n)(a,t)}})}))}}},p=function(){return{view:function(t){var e=t.attrs,n=e.mdl,a=e.result;return(0,u["default"])(".menu",[(0,u["default"])("img.img-responsive.img-fit-cover",{"class":n.userHasAlready(n)(a)&&"selected",onclick:function(){return n.state.item.showMenu(a.id)},src:i["default"].imagesUrl(a.poster_path)}),n.state.item.showMenu()==a.id&&(0,u["default"])(m,{mdl:n,result:a,active:n.userHasAlready(n)(a)})])},onbeforeremove:function(t){var e=t.attrs,n=(e.mdl,e.result);return console.log(n.id,"removed")}}},v=function(){return{view:function(t){var e=t.attrs.mdl;return(0,u["default"])("section.tiles",e.data.shows()?e.data.shows().map(function(t,n){return(0,u["default"])(p,{mdl:e,result:t,key:n})}):[])}}};t["default"]=v}),require.register("pages/Search/component.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("mithril"),u=a(r),o=e("./SearchResults.js"),i=a(o),l=function(){return{view:function(t){var e=t.attrs.mdl;return(0,u["default"])(".search",[(0,u["default"])(i["default"],{mdl:e})])},onbeforeremove:function(t){var e=t.attrs.mdl;e.state.query(""),e.data.shows([]),e.state.paginate.page(1),e.state.paginate.total_pages(0),e.state.paginate.total_results(0),e.state.item.showMenu(!1)}}};t["default"]=l}),require.register("pages/fns.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchShows=t.getShows=t.updateShowStatus=t.formatSearchData=t.toSearchVm=void 0;var a=e("ramda"),r=t.toSearchVm=function(t){var e=t.name,n=t.first_air_date,a=t.poster_path,r=t.overview,u=t.id,o=t.status,i=t.objectId;return{name:e,first_air_date:n,poster_path:a,overview:r,id:u,status:o,objectId:i}},u=(0,a.filter)((0,a.compose)((0,a.is)(String),(0,a.prop)("poster_path"))),o=t.formatSearchData=(0,a.over)((0,a.lensProp)("results"),(0,a.compose)((0,a.map)(r),(0,a.compose)(u))),i=function(t){return function(e){return e?(0,a.set)((0,a.lensProp)("status"),(0,a.prop)("status",e),t):t}},l=t.updateShowStatus=function(t){return function(e){var n=e.results.map(function(e){return(0,a.compose)(i(e),(0,a.find)((0,a.propEq)("id",e.id)))(t)});return e.results=n,e}};t.getShows=function(t,e){return e.getTask(e.backendlessUrl("shows?pagesize=100")).map((0,a.map)(r))},t.searchShows=function(t,e){return e.getTask(e.searchUrl(t.state.paginate.page())(t.state.query())).map(o).map(l(t.user.shows())).fork(function(e){return t.error=e},function(e){t.state.paginate.total_pages(e.total_pages),t.state.paginate.total_results(e.total_results),t.data.shows(e.results)})}}),require.register("secrets.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.apiKey="1e4d78ab60660282c63379725fc9b111",t.tmdbAuth={Authorization:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZTRkNzhhYjYwNjYwMjgyYzYzMzc5NzI1ZmM5YjExMSIsInN1YiI6IjVkYmNjMjBjOTdhNGU2MDAxNTdjNjkxYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.TgL91o4VHyQo4cm3KLx6nVICyrn8E8pXDC1zMdlDFsU"},t.baseUrl="https://api.themoviedb.org/3"}),require.register("utils/animations.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.animateChildrenLimitsExit=t.slideModalOut=t.animate=t.animateChildrenLimitsEntrance=t.animateChildrenEntrance=t.animateSidebarEntrance=t.animateComponentEntrance=t.IsLoading=void 0;var u=e("mithril"),o=a(u);t.IsLoading=(0,o["default"])(".holder",[(0,o["default"])(".preloader",[(0,o["default"])("div"),(0,o["default"])("div"),(0,o["default"])("div"),(0,o["default"])("div"),(0,o["default"])("div"),(0,o["default"])("div"),(0,o["default"])("div")])]),t.animateComponentEntrance=function(t){return function(e){var n=e.dom;return n.style.opacity=0,setTimeout(function(){n.classList.toggle("stretchRight"),n.style.opacity=1},100*t+20)}},t.animateSidebarEntrance=function(t){var e=t.dom;e.style.opacity=0,e.classList.toggle("slideRight"),e.style.opacity=1},t.animateChildrenEntrance=function(t){var e=t.dom,n=[].concat(r(e.children));return n.map(function(t,e){t.style.opacity=0,setTimeout(function(){t.classList.toggle("slideRight"),t.style.opacity=1},10*(e+1))})},t.animateChildrenLimitsEntrance=function(t){return function(e){var n=e.dom;n.style.opacity=0,setTimeout(function(){n.classList.toggle("slideDown"),n.style.opacity=1},200*(t+1))}},t.animate=function(t){return function(e){var n=e.dom;n.style.opacity=0,setTimeout(function(){n.classList.toggle(t),n.style.opacity=1},200)}},t.slideModalOut=function(t){var e=t.dom;return new Promise(function(){return e.classList.remove("slideRight"),setTimeout(function(){e.classList.add("reverseAnimation","slideRight")},200)})},t.animateChildrenLimitsExit=function(t){var e=t.dom;return new Promise(function(){[].concat(r(e.children)).reverse().map(function(t,e){return setTimeout(function(){t.style.display="none"},100*e)})})}}),require.register("utils/helpers.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.jsonCopy=t.scrollToAnchor=t.getRoute=t.debounce=t.filterTask=t._paginate=t._direction=t._sort=t._search=t.addTerms=t.infiniteScroll=t.isEmpty=t.log=t.makeRoute=void 0;var r=e("mithril"),u=a(r),o=e("ramda"),i=e("data.task"),l=a(i),d=(t.makeRoute=(0,o.compose)((0,o.join)("-"),(0,o.split)(" "),(0,o.trim)(),(0,o.toLower)()),t.log=function(t){return function(e){return console.log(t,e),e}},t.isEmpty=function(t){return 0==t.length},t.infiniteScroll=function(t){return function(e){var n=t.state.route,a=t.data[n].data.length,r=10*a*t.state.scrollPos;e.target.scrollTop-t.state.scrollPos>=r&&t.state.scrollPos++ +e.target.scrollTop}},t.addTerms=function(t){var e=(0,o.compose)((0,o.join)(" "),o.values,(0,o.props)(["uuid","id","name"]))(t);return(0,o.assoc)("_terms",e,t)},function(t){return(0,o.compose)((0,o.test)(new RegExp(t,"i")),(0,o.prop)("name"))}),s=t._search=function(t){return(0,o.compose)((0,o.filter)(d(t)))},c=t._sort=function(t){return(0,o.sortBy)((0,o.compose)(o.toLower,toString,(0,o.prop)(t)))},f=t._direction=function(t){return"asc"==t?o.identity:o.reverse},m=t._paginate=function(t){return function(e){return function(n){return(0,o.slice)((0,o.max)(0,(0,o.min)(t,n.length)),(0,o.min)(t+e,n.length),n)}}};t.filterTask=function(t){return function(e){return function(n){return function(a){return function(r){return(0,o.compose)(l["default"].of,(0,o.map)(m(a)(r)),(0,o.map)(f(n)),(0,o.map)(c(e)),s(t))}}}}},t.debounce=function(t,e){return function(n){var a=void 0;return function(){var r=this,u=arguments,o=function(){a=void 0,e||n.apply(r,u)},i=e&&!a;clearTimeout(a),a=setTimeout(o,t),console.log(n),i&&n.apply(r,u)}}},t.getRoute=function(t){return u["default"].route.get().split("/")[t]},t.scrollToAnchor=function(t){var e=function(t){return void 0!==t&&null!==t},n=e(t)?document.getElementById(t):document.body,a=window.pageYOffset||document.documentElement.scrollTop,r=e(n)?n.getBoundingClientRect().top:0;window.scroll({top:r+a-10,left:0,behavior:"smooth"})},t.jsonCopy=function(t){return JSON.parse(JSON.stringify(t))}}),require.register("utils/http.js",function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t){t.lengthComputable&&(v["default"].state.loadingProgress.max(t.total),v["default"].state.loadingProgress.value(t.loaded),m["default"].redraw())}function u(){return!1}function o(){return v["default"].state.isLoading(!0),!1}function i(){return v["default"].state.isLoading(!1),v["default"].state.loadingProgress.max(0),v["default"].state.loadingProgress.value(0),!1}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},d=e("../secrets.js"),s=e("data.task"),c=a(s),f=e("mithril"),m=a(f),p=e("../Models.js"),v=a(p),h={config:function(t){t.onprogress=r,t.onload=u,t.onloadstart=o,t.onloadend=i}},g=function(t){return t.state.isLoading(!t.state.isLoading),m["default"].request},b=function(t){var e=t.includes("themoviedb")&&d.tmdbAuth;return{headers:l({},e)}},_=function(t){return function(e){return new c["default"](function(n,a){return g(v["default"])(t,l({},e,b(t),h)).then(a,n)})}},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(t)(l({},e,{method:"GET"}))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(t)(l({},e,{method:"POST"}))},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(t)(l({},e,{method:"PUT"}))},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(t)(l({},e,{method:"DELETE"}))},M=function(t){return function(e){return function(n){return function(a){return t+"/search/multi?api_key="+e+"&language=en-US&query="+a+"&page="+n+"&include_adult=false"}}}},S=function(t){return function(e){return function(n){return t+"/tv/"+n+"?api_key="+e+"&language=en-US"}}},P=function(t){return function(e){return function(n){return t+"/tv/"+n+"/images?api_key="+e+"&language=en-US"}}},L="https://api.backendless.com/7F421158-889B-FD93-FF62-1ACDCD07AD00/1D9BEF3E-0CCC-D6C6-FF60-1A0B849A3E00/data/",x=function(t){return L+t},E=M(d.baseUrl)(d.apiKey),T=S(d.baseUrl)(d.apiKey),O=function(t){return"https://image.tmdb.org/t/p/w185_and_h278_bestv2/"+t},q={getTask:y,postTask:w,putTask:j,deleteTask:k,baseSearchUrl:M,baseDetailsUrl:S,baseImagesUrl:P,searchUrl:E,detailsUrl:T,imagesUrl:O,backendlessUrl:x};t["default"]=q}),require.register("utils/index.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("./animations.js");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=e("./helpers.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var u=e("./http.js");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})}),require.alias("process/browser.js","process"),t=require("process"),require.register("___globals___",function(t,e,n){})}(),require("___globals___");